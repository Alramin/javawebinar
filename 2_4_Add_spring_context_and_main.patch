Index: src/main/resources/spring/spring-app.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/resources/spring/spring-app.xml	(revision )
+++ src/main/resources/spring/spring-app.xml	(revision )
@@ -0,0 +1,8 @@
+<beans xmlns="http://www.springframework.org/schema/beans"
+       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+       xsi:schemaLocation="
+        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
+
+    <bean class="ru.javawebinar.topjava.repository.mock.MockUserRepositoryImpl" id="mockUserRepository"/>
+
+</beans>
\ No newline at end of file
Index: src/main/java/ru/javawebinar/topjava/repository/mock/MockUserRepositoryImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ru/javawebinar/topjava/repository/mock/MockUserRepositoryImpl.java	(revision )
+++ src/main/java/ru/javawebinar/topjava/repository/mock/MockUserRepositoryImpl.java	(revision )
@@ -0,0 +1,46 @@
+package ru.javawebinar.topjava.repository.mock;
+
+import ru.javawebinar.topjava.LoggerWrapper;
+import ru.javawebinar.topjava.model.User;
+import ru.javawebinar.topjava.repository.UserRepository;
+
+import java.util.Collections;
+import java.util.List;
+
+/**
+ * GKislin
+ * 15.06.2015.
+ */
+public class MockUserRepositoryImpl implements UserRepository {
+    private static final LoggerWrapper LOG = LoggerWrapper.get(MockUserRepositoryImpl.class);
+
+    @Override
+    public boolean delete(int id) {
+        LOG.info("delete " + id);
+        return true;
+    }
+
+    @Override
+    public User save(User user) {
+        LOG.info("save " + user);
+        return user;
+    }
+
+    @Override
+    public User get(int id) {
+        LOG.info("get " + id);
+        return null;
+    }
+
+    @Override
+    public List<User> getAll() {
+        LOG.info("getAll");
+        return Collections.emptyList();
+    }
+
+    @Override
+    public User getByEmail(String email) {
+        LOG.info("getByEmail " + email);
+        return null;
+    }
+}
Index: src/main/java/ru/javawebinar/topjava/SpringMain.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ru/javawebinar/topjava/SpringMain.java	(revision )
+++ src/main/java/ru/javawebinar/topjava/SpringMain.java	(revision )
@@ -0,0 +1,21 @@
+package ru.javawebinar.topjava;
+
+import org.springframework.context.ConfigurableApplicationContext;
+import org.springframework.context.support.ClassPathXmlApplicationContext;
+import ru.javawebinar.topjava.repository.UserRepository;
+
+import java.util.Arrays;
+
+/**
+ * User: gkislin
+ * Date: 22.08.2014
+ */
+public class SpringMain {
+    public static void main(String[] args) {
+        ConfigurableApplicationContext appCtx = new ClassPathXmlApplicationContext("spring/spring-app.xml");
+        System.out.println(Arrays.toString(appCtx.getBeanDefinitionNames()));
+        UserRepository userRepository = (UserRepository) appCtx.getBean("mockUserRepository");
+        userRepository = appCtx.getBean(UserRepository.class);
+        appCtx.close();
+    }
+}
Index: src/main/java/ru/javawebinar/topjava/repository/InMemoryUserMealRepository.java
===================================================================
--- src/main/java/ru/javawebinar/topjava/repository/InMemoryUserMealRepository.java	(date 1442357162000)
+++ src/main/java/ru/javawebinar/topjava/repository/mock/InMemoryUserMealRepository.java	(revision )
@@ -1,6 +1,7 @@
-package ru.javawebinar.topjava.repository;
+package ru.javawebinar.topjava.repository.mock;
 
 import ru.javawebinar.topjava.model.UserMeal;
+import ru.javawebinar.topjava.repository.UserMealRepository;
 
 import java.time.LocalDateTime;
 import java.time.Month;
Index: pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- pom.xml	(date 1442357162000)
+++ pom.xml	(revision )
@@ -17,6 +17,8 @@
         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
         <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
 
+        <spring.version>4.2.1.RELEASE</spring.version>
+
         <!-- Logging -->
         <logback.version>1.1.2</logback.version>
         <slf4j.version>1.7.7</slf4j.version>
@@ -82,6 +84,18 @@
             <version>1.2</version>
         </dependency>
 
+        <!-- Spring -->
+        <dependency>
+            <groupId>org.springframework</groupId>
+            <artifactId>spring-context</artifactId>
+            <version>${spring.version}</version>
+            <exclusions>
+                <exclusion>
+                    <groupId>commons-logging</groupId>
+                    <artifactId>commons-logging</artifactId>
+                </exclusion>
+            </exclusions>
+        </dependency>
     </dependencies>
 
     <profiles>
Index: src/main/java/ru/javawebinar/topjava/web/MealServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ru/javawebinar/topjava/web/MealServlet.java	(date 1442357162000)
+++ src/main/java/ru/javawebinar/topjava/web/MealServlet.java	(revision )
@@ -2,8 +2,8 @@
 
 import ru.javawebinar.topjava.LoggerWrapper;
 import ru.javawebinar.topjava.model.UserMeal;
-import ru.javawebinar.topjava.repository.InMemoryUserMealRepository;
 import ru.javawebinar.topjava.repository.UserMealRepository;
+import ru.javawebinar.topjava.repository.mock.InMemoryUserMealRepository;
 import ru.javawebinar.topjava.util.UserMealsUtil;
 
 import javax.servlet.ServletConfig;
